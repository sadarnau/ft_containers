<!DOCTYPE html>
<html>
<head></head>

<body onload="startGame()">

    <script>
    
    var myGamePiece;
    var myGamePiece2;
    
    function startGame() {
        myGameArea.start();
        myGamePiece = new component(10, 50, "yellow", 0, (myGameArea.canvas.height / 2) - 25);
        myGamePiece2 = new component(10, 50, "yellow", myGameArea.canvas.width - 10, (myGameArea.canvas.height / 2) - 25);
    }

    var myGameArea = {
        canvas : document.createElement("canvas"),

        start : function() {
            this.canvas.width = 500;
            this.canvas.height = 250;
            
            this.context = this.canvas.getContext("2d");

            this.printBackground();

            document.body.insertBefore(this.canvas, document.body.childNodes[0]);
            this.interval = setInterval(updateGameArea, 100);
        },

        printBackground : function() {
            var grd = this.context.createRadialGradient(this.canvas.width / 2, this.canvas.height / 2, 10, this.canvas.width / 2, this.canvas.height / 2, 300)
            grd.addColorStop(0, "red");
            grd.addColorStop(1, "black");
            this.context.fillStyle = grd;

            this.context.fillRect(0,0,this.canvas.width,this.canvas.height);
            
            this.context.moveTo(this.canvas.width / 2, 0);
            this.context.lineTo(this.canvas.width / 2, this.canvas.height);
            this.context.stroke();

            this.context.beginPath();
            this.context.arc(this.canvas.width / 2, this.canvas.height / 2, 40, 0, 2 * Math.PI);
            this.context.stroke();
        },

        clear : function() {
            this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
        }
    }

    function component(width, height, color, x, y) {
        this.width = width;
        this.height = height;
        this.x = x;
        this.y = y;
        this.update = function() {
            ctx = myGameArea.context;
            ctx.fillStyle = color;
            ctx.fillRect(this.x, this.y, this.width, this.height);
        }
    }

    function updateGameArea() {
        // myGameArea.clear();
        myGameArea.printBackground();
        myGamePiece2.x -= 1;
        myGamePiece.update()
        myGamePiece2.update()
    }
    </script>
    
</body>
</html>